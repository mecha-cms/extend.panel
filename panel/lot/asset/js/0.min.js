!function(){"use strict";var t=function(t){return Array.isArray(t)},n=function(t){return"function"==typeof t},e=function(t,n){return t&&i(n)&&t instanceof n},r=function(t){return"number"==typeof t},u=function(t,n){return void 0===n&&(n=!0),"object"==typeof t&&(!n||e(t,Object))},i=function(t){return function(t){return void 0!==t}(t)&&!function(t){return null===t}(t)},o=function(t){return"string"==typeof t},c=function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return Object.assign.apply(Object,[{}].concat(n))},a=function n(e){if(t(e))return e.map((function(t){return n(e)}));if(u(e)){for(var r in e)e[r]=n(e[r]);return e}return!1===e?"false":null===e?"null":!0===e?"true":""+e},s=function(t,n){var e=n.indexOf(t);return-1!==e?e:null},f=function(t){return t.toLowerCase()},l=function(t){return t.toUpperCase()},p=function(t){return t.length},v=function(t){return p(d(t))},d=function(t){return Object.keys(t)},h=function n(e){if(t(e))return e.map((function(t){return n(t)}));if(function(t){return/^-?(?:\d*.)?\d+$/.test(t+"")}(e))return function(t,n){return void 0===n&&(n=10),n?parseInt(t,n):parseFloat(t)}(e);if(u(e)){for(var r in e)e[r]=n(e[r]);return e}return"false"!==e&&("null"===e?null:"true"===e||e)},g=document,m=window,b=g.body,y=g.documentElement,k=function(t){var n=E(t),e=w(t),r=S(t);return!1!==e?[r,e,n]:[r,n]},x=function(t,n,e){if(void 0===e&&(e=!0),!F(t,n))return null;var r=t.getAttribute(n);return e?h(r):r},E=function(t,n){void 0===n&&(n=!0);for(var e,r=t.attributes,u={},i=0,o=r.length;i<o;++i)e=r[i].value,u[r[i].name]=n?h(e):e;return u},$=function(t,n){var e=t.children;return r(n)?e[n]||null:e||[]},L=function(t,n){return(n||g).querySelector(t)},T=function(t,n){return(n||g).querySelectorAll(t)},w=function(t,n){void 0===n&&(n=!0);var e="innerHTML";if(!B(t,e))return!1;var r=t[e];return""!==(r=n?r.trim():r)?r:null},S=function(t){return f(t&&t.nodeName||"")||null},O=function(t){return t.nextElementSibling||null},H=function(t){return t.parentNode||null},A=function(t){return t.previousElementSibling||null},C=function(t,n){void 0===n&&(n=!0);var e="textContent";if(!B(t,e))return!1;var r=t[e];return""!==(r=n?r.trim():r)?r:null},F=function(t,n){return t.hasAttribute(n)},R=function(t){return null!==H(t)},B=function(t,n){return n in t},P=function(t,n){return t.removeAttribute(n),t},D=function(t,n){return t.classList.remove(n),t},N=function(n,e){if(t(e))return e.forEach((function(t){return n.classList.remove(t)})),n;if(u(e)){for(var r in e)e[r]&&n.classList.remove(r);return n}return n.className="",n},q=function(t){var n=H(t);return t.remove(),n},K=function(t,n,e){return!0===e&&(e=n),t.setAttribute(n,a(e)),t},M=function(t,n){return t.append(n),n},U=function(t,n){return t.classList.add(n),t},I=function(t,n,e){return t=o(t)?g.createElement(t):t,u(n)&&(e=n,n=!1),o(n)&&J(t,n),u(e)&&function(t,n){var e;for(var r in n)(e=n[r])||""===e||0===e?K(t,r,e):P(t,r)}(t,e),t},J=function(t,n,e){if(void 0===e&&(e=!0),null===n)return t;var r="innerHTML";return B(t,r)&&(t[r]=e?n.trim():n),t},X=function(t,n){return H(t).insertBefore(n,t),n},_=function(t,n,e){if(void 0===e&&(e=!0),null===n)return t;var r="textContent";return B(t,r)&&(t[r]=e?n.trim():n),t},z=function(t){return I.apply(void 0,t)},G=m.history,Y=m.location,Q=g.currentScript,V=function(t){return t&&t.preventDefault()},W=function(t,n,e){n.removeEventListener(t,e)},Z=function(t,n,e,r){void 0===r&&(r=!1),n.addEventListener(t,e,r)};function tt(t){var n={};return t.hooks=n,t.fire=function(e,r){return i(n[e])?(n[e].forEach((function(n){return n.apply(t,r)})),t):t},t.off=function(e,r){if(!i(e))return n={},t;if(i(n[e]))if(i(r)){for(var u=0,o=n[e].length;u<o;++u)if(r===n[e][u]){n[e].splice(u,1);break}0===j&&delete n[e]}else delete n[e];return t},t.on=function(e,r){return i(n[e])||(n[e]=[]),i(r)&&n[e].push(r),t},t}var nt=tt({});nt.fire,nt.off,nt.on,nt.hooks;var et,rt,ut=function(t,n){return void 0===n&&(n=""),t.replace(ct("["+n+at.replace(/./g,"\\$&")+"]"),"\\$&")},it=function(t){return ot(t)?t.source.replace(/\\\//g,"/"):null},ot=function(t){return e(t,RegExp)},ct=function(t,n){return ot(t)?t:(t=t.replace(/\//g,"\\/"),RegExp(t,i(n)?n:"g"))},at="!$^*()+=[]{}|:<>,.?/-",st=function(t,n){return t.scrollLeft=n[0],t.scrollTop=n[1],t},ft="F3H",lt="GET",pt="document",vt="text",dt="//"+Y.hostname;function ht(t){return Et(t)?"submit":"click"}function gt(t){return t.split("#")[1]||""}function mt(t){for(var n,e,r,u,i,o,c={},a=T("link[rel=dns-prefetch],link[rel=preconnect],link[rel=prefetch],link[rel=preload],link[rel=prerender]",t),s=0,l=p(a);s<l;++s)i=r=a[s],o=void 0,o=f(ft),h(x(i,"data-"+o)||x(i,o))||(e=x(r,"href"),r.id=n=r.id||"F3H:"+St(e||C(r)),c[n]=u=k(r),e&&(c[n][p(u)-1].href=r.href));return c}function bt(){return wt(Y.href)}function yt(t){for(var n,e,r,u,i={},o=T("script",t),c=0,a=p(o);c<a;++c)$t(r=o[c])||(e=x(r,"src"),r.id=n=r.id||"F3H:"+St(e||C(r)),i[n]=u=k(r),e&&(i[n][p(u)-1].src=r.src));return i}function kt(t){for(var n,e,r,u,i,o,c={},a=T("link[rel=stylesheet],style",t),s=0,l=p(a);s<l;++s)i=r=a[s],o=void 0,o=f(ft),h(x(i,"data-"+o)||x(i,o))||(e=x(r,"href"),r.id=n=r.id||"F3H:"+St(e||C(r)),c[n]=u=k(r),e&&(c[n][p(u)-1].href=r.href));return c}function xt(t,n){return t?g.getElementById(t)||(n?g.getElementsByName(t)[0]:null):null}function Et(t){return"form"===S(t)}function $t(t){if(t.src&&Q.src===t.src)return 1;var n=f(ft);return h(x(t,"data-"+n)||x(t,n))||ct("\\bF3H\\b").test(C(t)||"")?1:0}function Lt(t){var n=f(ft);return F(t,"data-"+n)||F(t,n)?h(x(t,"data-"+n)||x(t,n))?1:0:1}function Tt(t){return t.split("#")[0]}function wt(t){return t.replace(/\/+(?=[?&#]|$)/,"")}function St(t){var n,e=p(t),r=0;if(0===e)return r;for(n=0;n<e;++n)r=(r<<5)-r+t.charCodeAt(n),r&=r;return r<1?-1*r:r}function jt(t){var n,e,r={},u=t.getAllResponseHeaders().trim().split(/[\r\n]+/);for(n in u)e=u[n].split(": "),r[f(e.shift())]=h(e.join(": "));return new Proxy(r,{get:function(t,n){return t[f(n)]||null},set:function(t,n,e){t[f(n)]=e}})}function Ot(t,r){void 0===t&&(t=g),void 0===r&&(r={});var o=this;if(!e(o,Ot))return new Ot(t,r);if((!i(t)||function(t){return!1===t||!0===t}(t)||u(t))&&(r=t,t=g),!t.F3H){o.state=r=c(Ot.state,!0===r?{cache:r}:r||{}),o.source=t,r.turbo&&(r.cache=!0);var a={},s=null,f=null,p=null,d=bt(),h=d,b={},k=null,x=A(r.sources),E=null,$=null,w=tt(o),S=w.fire,j=w.hooks;Ot.instances[t.id||t.name||v(Ot.instances)]=o,t.F3H=1;var H=!1;return o.abort=function(t){return t?b[t]&&B(t):P(),o},o.caches=a,o.fetch=function(t,n,e){return D(e,n,t)},o.links=s,o.lot=null,o.ref=null,o.scripts=k,o.state=r,o.styles=$,o.status=null,o.pop=function(){return t.F3H?(delete t.F3H,x.forEach((function(t){Z(ht(t),t,nt)})),W("DOMContentLoaded",m,Q),W("hashchange",m,ut),W("keydown",g,ot),W("keyup",g,ct),W("popstate",m,at),S("pop",[g,m]),o.abort()):o},Z("DOMContentLoaded",m,Q),Z("hashchange",m,ut),Z("popstate",m,at),o}function A(t,e){d=bt();var u=T(t,e),i=[];return n(r.is)?u.forEach((function(t){r.is.call(o,t,d)&&Lt(t)&&i.push(t)})):u.forEach((function(t){Lt(t)&&i.push(t)})),i}function C(t){t!==bt()&&r.history&&G.pushState({},"",t)}function F(t,n,e){var u,i=function(t){return t===m}(t),c=r.history;if(lt!==n||t!==p||i){if(p=t,o.ref=wt(h=e),S("exit",[g,t]),r.cache){var l=a[wt(Tt(e))];if(l)return o.lot=f=l[2],o.status=E=l[0],l[3]&&!i&&c&&K(y),C(e),u=[l[1],t],l[3]&&(s=J(u[0])),l[3]&&($=Y(u[0])),S("success",u),S(l[0],u),x=A(r.sources),l[3]&&(k=_(u[0])),ft(u),void S("enter",u)}var v,d,b=D(t,n,e,r.lot),L=b.upload,T=pt===b.responseType;return Z("abort",b,(function(){w(),S("abort",[b.response,t])})),Z("error",b,v=function(){w(),T&&!i&&c&&K(y),u=[b.response,t],T&&(s=J(u[0])),T&&($=Y(u[0])),S("error",u),x=A(r.sources),T&&(k=_(u[0])),ft(u),S("enter",u)}),Z("error",L,v),Z("load",b,v=function(){if(w(),u=[b.response,t],d=b.responseURL,E>=300&&E<400){var n=wt(Tt(d));return a[n]&&delete a[n],S("success",u),S(E,u),void F(p=m,lt,d||e)}C(-1===e.indexOf("#")&&d||e),T&&($=Y(u[0])),S("success",u),S(E,u),T&&c&&K(y),x=A(r.sources),T&&(k=_(u[0])),ft(u),S("enter",u)}),Z("load",L,v),Z("progress",b,(function(t){w(),S("pull",t.lengthComputable?[t.loaded,t.total]:[0,-1])})),Z("progress",L,(function(t){w(),S("push",t.lengthComputable?[t.loaded,t.total]:[0,-1])})),b}function w(){f=jt(b),E=b.status,lt===n&&r.cache&&E&&(a[wt(Tt(e))]=[E,b.response,f,T]),o.lot=f,o.status=E}}function B(t){b[t]&&b[t][0]&&(b[t][0].abort(),delete b[t])}function P(){for(var t in b)B(t)}function D(t,e,i,c){i=n(r.ref)?r.ref.call(o,t,i):i;var a,s=new XMLHttpRequest,f=l(i.split(/[?&#]/)[0].split("/").pop().split(".")[1]||""),p=r.types[f]||r.type||vt;if(n(p)&&(p=p.call(o,i)),s.responseType=p,s.open(e,i,!0),u(c))for(a in c)s.setRequestHeader(a,c[a]);return s.send("POST"===e?new FormData(t):null),s}function N(t,n){var e=D(t,lt,n);Z("load",e,(function(){200===(E=e.status)&&(a[wt(Tt(n))]=[E,e.response,jt(e),pt===e.responseType])}))}function K(t){if(t){var n=function(t){return[t.offsetLeft,t.offsetTop]}(t);st(et,n),st(y,n)}}function U(n,e,r,u){var i,o,c,a=r(n),s={};for(i in e)if((o=L("#"+i.replace(/[:.]/g,"\\$&"),t))&&(s[i]=O(o)),!a[i]){delete e[i];var f=xt(i);f&&q(f)}for(i in a)e[i]||(e[i]=c=a[i],s[i]&&R(s[i])?X(s[i],z(c)):u&&M(u,z(c)));return e}function J(t){return U(t,s,mt,rt)}function _(t){return U(t,k,yt,et)}function Y(t){return U(t,$,kt,rt)}function Q(){Z("keydown",g,ot),Z("keyup",g,ct),et=g.body,rt=g.head,o.links=s=mt(),o.scripts=k=yt(),o.styles=$=kt(),ft([g,m]),r.cache&&N(m,bt())}function nt(t){if(P(),!H){var n,e=this,u=e.href,i=e.action,o=wt(u||i),c=l(e.method||lt);lt===c&&(Et(e)&&(n=new URLSearchParams(new FormData(e))+"",o=o.split(/[?&#]/)[0]+(n?"?"+n:"")),r.turbo&&C(o)),b[o]=[F(e,c,o),e],V(t)}}function ut(t){K(xt(gt(bt()),1)),V(t)}function it(){var t=this,n=t.href;a[wt(Tt(n))]||N(t,n),W("mousemove",t,it)}function ot(t){H=t.ctrlKey}function ct(){H=!1}function at(t){d=bt(),P(),gt(d)&&Tt(h)===Tt(d)||(b[d]=[F(m,lt,d),m])}function ft(n){var e=r.turbo;x.forEach((function(t){var n,r,u;Z(ht(t),t,nt),Et(t)?(n=t,r=I("input",{type:"hidden"}),u=T("[name][type=submit][value]",n),M(n,r),u.forEach((function(t){Z("click",t,(function(){r.name=this.name,r.value=this.value}))}))):e&&function(t){Z("mousemove",t,it)}(t)})),function(n){if(j.focus)S("focus",n);else{var e=L("[autofocus]",t);e&&e.focus()}}(n),function(t){j.scroll?S("scroll",t):K(xt(gt(bt()),1))}(n)}}Ot.instances={},Ot.state={cache:!1,history:!0,is:function(t,n){var e=t.target,r=x(t,"href")||x(t,"action")||"",u=t.href||t.action||"";return(!e||"_self"===e)&&("#"!==r[0]&&!/^(data|javascript|mailto):/.test(r)&&((!gt(u)||Tt(n)!==Tt(u))&&(""===r||0===r.search(/[.\/?]/)||0===r.indexOf(dt)||0===r.indexOf(Y.protocol+dt)||-1===r.indexOf("://"))))},lot:{"x-requested-with":ft},ref:function(t,n){return n},sources:"a[href],form",turbo:!1,type:pt,types:{"":pt,CSS:vt,JS:vt,JSON:"json"}},Ot.version="1.1.17";function Ht(t,n){return(t||"")["trim"+(-1===n?"Left":1===n?"Right":"")]()}function At(r,u){if(void 0===u&&(u={}),r){var a=this;if(!r.TE){if(!e(a,At))return new At(r,u);a.state=u=c(At.state,o(u)?{tab:u}:u||{}),a.self=a.source=r,At.instances[r.id||r.name||v(At.instances)]=a,r.TE=1;var s=/^([\s\S]*?)$/,f=function(){return r.disabled},l=function(){return r.readOnly},d=function(){return r.value.replace(/\r/g,"")};return a.value=d(),a.get=function(){return!f()&&Ht(d())||null},a.let=function(){return r.value=a.value},a.set=function(t){return f()||l()||(r.value=t),a},a.$=function(){return new At.S(r.selectionStart,r.selectionEnd,d())},a.focus=function(t){var n,e;return-1===t?n=e=0:1===t&&(n=p(d()),e=r.scrollHeight),i(n)&&i(e)&&(r.selectionStart=r.selectionEnd=n,r.scrollTop=e),r.focus(),a},a.blur=function(){return r.blur(),a},a.select=function(){if(f()||l())return r.focus(),a;for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];var u,i,o,c,s=p(n),v=a.$(),d=v.start,h=v.end;if(u=m.pageXOffset||y.scrollLeft||b.scrollLeft,i=m.pageYOffset||y.scrollTop||b.scrollTop,o=r.scrollLeft,c=r.scrollTop,0===s)n[0]=d,n[1]=h;else if(1===s){if(!0===n[0])return r.focus(),r.select(),a;n[1]=n[0]}return r.focus(),r.selectionStart=n[0],r.selectionEnd=n[1],r.scrollLeft=o,r.scrollTop=c,m.scroll(u,i),a},a.match=function(e,r){var u=a.$(),i=u.after,o=u.before,c=u.value;if(t(e)){var s=[o.match(e[0]),c.match(e[1]),i.match(e[2])];return n(r)?r.call(a,s[0]||[],s[1]||[],s[2]||[]):[!!s[0],!!s[1],!!s[2]]}var f=c.match(e);return n(r)?r.call(a,f||[]):!!f},a.replace=function(t,n,e){var r=a.$(),u=r.after,i=r.before,o=r.value;return-1===e?i=i.replace(t,n):1===e?u=u.replace(t,n):o=o.replace(t,n),a.set(i+o+u).select(i=p(i),i+p(o))},a.insert=function(t,n,e){var r=s;return e&&a.replace(r,""),-1===n?r=/$/:1===n&&(r=/^/),a.replace(r,t,n)},a.wrap=function(t,n,e){var r=a.$(),u=r.after,i=r.before,o=r.value;return e?a.replace(s,t+"$1"+n):a.set(i+t+o+n+u).select(i=p(i+t),i+p(o))},a.peel=function(t,n,e){var r=a.$(),u=r.after,i=r.before,o=r.value;t=it(t)||ut(t),n=it(n)||ut(n),t=t.replace(/^\^|\$$/g,""),n=n.replace(/^\^|\$$/,"");var c=ct(t+"$",""),s=ct("^"+n,"");return e?a.replace(ct("^"+t+"([\\s\\S]*?)"+n+"$",""),"$1"):c.test(i)&&s.test(u)?(i=i.replace(c,""),u=u.replace(s,""),a.set(i+o+u).select(i=p(i),i+p(o))):a.select()},a.pull=function(t,n){void 0===n&&(n=!0);var e=a.$(),r=e.length,o=e.value;return t=i(t)?t:u.tab,t=(t=it(t)||ut(t)).replace(/^\^/,""),r?n?a.replace(ct("^"+t,"gm"),""):a.insert(o.split("\n").map((function(n){return ct("^("+t+")*$","").test(n)?n:n.replace(ct("^"+t,""),"")})).join("\n")):a.replace(ct(t+"$",""),"",-1)},a.push=function(t,n){void 0===n&&(n=!1);var e=a.$().length;return t=i(t)?t:u.tab,e?a.replace(ct("^"+(n?"":"(?!$)"),"gm"),t):a.insert(t,-1)},a.trim=function(t,n,e,r,u){void 0===u&&(u=!0),null!==t&&!1!==t&&(t=t||""),null!==n&&!1!==n&&(n=n||""),null!==e&&!1!==e&&(e=e||""),null!==r&&!1!==r&&(r=r||"");var i=a.$(),o=i.before,c=i.value,s=i.after,f=Ht(o,1),l=Ht(s,-1);return o=!1!==t?Ht(o,1)+(f||!u?t:""):o,s=!1!==n?(l||!u?n:"")+Ht(s,-1):s,!1!==e&&(c=Ht(c,-1)),!1!==r&&(c=Ht(c,1)),a.set(o+c+s).select(o=p(o),o+p(c))},a.pop=function(){return r.TE?(delete r.TE,a):a},a.state=u,a}}}At.esc=ut,At.instances={},At.state={tab:"\t"},At.S=function(t,n,e){var r=this,u=e.slice(t,n);r.start=t,r.end=n,r.value=u,r.before=e.slice(0,t),r.after=e.slice(n),r.length=p(u),r.toString=function(){return u}},At.version="3.2.4",At.x=at;var Ct=function(t,n){return-1!==n.indexOf(t)},Ft=m.setTimeout;
/*!
   *
   * The MIT License (MIT)
   *
   * Copyright © 2020 Taufik Nurrohman
   *
   * <https://github.com/taufik-nurrohman/tag-picker>
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the “Software”), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   *
   */function Rt(n,i){if(void 0===i&&(i={}),n){var a=this;if(!n.TP){if(!e(a,Rt))return new Rt(n,i);var l=function(){return n.disabled},d=function(){return n.readOnly},h=x(n,"placeholder"),g=x(n,"tabindex"),m=tt(a).fire;a.state=i=c(Rt.state,o(i)?{join:i}:i||{}),a.source=n,Rt.instances[n.id||n.name||v(Rt.instances)]=a,n.TP=1;var b,y,k=I("span",{class:"editor tag"}),E=I("span",{contenteditable:!l()&&"true",spellcheck:"false",style:"white-space:pre;"}),L=I("span"),T=function(t){var n="form";if(B(t,n)&&n===S(t.form))return t.form;for(var e=H(t);e&&n!==S(e);)e=H(e);return e||null}(n),w=I("span",{class:i.class}),j=I("span",{class:"tags"});return ft(""),M(w,j),M(j,k),M(k,E),M(k,L),U(n,i.class+"-source"),y=w,H(b=n).insertBefore(y,O(b)),I(n,{tabindex:"-1"}),Z("blur",E,K),Z("click",E,J),Z("click",w,et),Z("focus",E,z),Z("focus",n,rt),Z("keydown",E,G),Z("paste",E,nt),T&&Z("submit",T,Q),a.blur=function(){return!l()&&(E.blur(),K())},a.click=function(){return w.click()},et(),a.f=function(t){return f(t||"").replace(/[^ a-z\d-]/g,"")},a.focus=function(){return l()||(E.focus(),z()),a},a.get=function(t){return l()?null:lt(t,1)},a.input=E,a.let=function(t){if(!l()&&!d()){var n=i.min;if(P(),n>0&&p(a.tags)<n)return m("min.tags",[n]),a;ht(t),pt(t)}return a},a.pop=function(){if(!n.TP)return a;delete n.TP;var t=a.tags;return D(n,i.class+"-source"),W("blur",E,K),W("click",E,J),W("click",w,et),W("focus",E,z),W("focus",n,rt),W("keydown",E,G),W("paste",E,nt),T&&W("submit",T,Q),t.forEach(ht),I(n,{tabindex:g}),q(w),m("pop",[t])},a.self=w,a.set=function(t,n){if(!l()&&!d()){var e=a.tags,r=i.max;lt(t)?m("has.tag",[t,s(t,e)]):p(e)<r?(dt(t,n),vt(t,n)):m("max.tags",[r])}return a},a.source=a.output=n,a.state=i,a.tags=[],Y(n.value),a.value=function(t){return!l()&&!d()&&Y(t)},a}}function F(t){return a.f(t).replace(ct("("+i.escape.join("|").replace(/\\/g,"\\\\")+")+"),"").trim()}function P(){if(l()||d())return ft("");var t,n=F(C(E));n&&(lt(n)?m("has.tag",[n,s(n,a.tags)]):(dt(n),vt(n),t=p(a.tags),m("change",[n,t]),m("set.tag",[n,t])),ft(""))}function K(){P(),N(w,["focus","focus.input"]),m("blur",[a.tags,p(a.tags)])}function J(){m("click",[a.tags])}function z(){U(w,"focus"),U(w,"focus.input"),m("focus",[a.tags])}function G(t){var n,e=i.escape,r=t.key,u=t.keyCode,o=t.ctrlKey,c="Enter"===r||13===u,s=t.shiftKey,f="Tab"===r||9===u,v=A(k),g=p(a.tags),b=i.max,y=F(C(E));c?r="\n":f&&(r="\t"),f||(l()||d()?(c&&d()&&gt(),V(t)):Ct(r,e)||Ct(u,e)?(g<b?P():(ft(""),m("max.tags",[b])),V(t)):c?(gt(),V(t)):Ft((function(){var i=C(E)||"",c=F(i);Ct(i.slice(-1),e)?(g<b?P():(ft(""),m("max.tags",[b])),V(t)):""!==c||o||s||(""!==y||"Backspace"!==r&&"Backspace"!==u?"ArrowLeft"!==r&&37!==u||v&&v.focus():(D(w,"focus.tag"),ht(n=a.tags[g-1]),pt(n),v&&(m("change",[n,g-1]),m("let.tag",[n,g-1])))),_(L,c?"":h)}),0))}function Y(t){if(R(w))for(var e;e=A(k);)ht(e.title);a.tags=[],n.value="",t=t?t.split(i.join):[];for(var r,u=0,o=i.max;u<o&&t[u];++u)if(""!==(r=F(t[u]))){if(lt(r))continue;dt(r),vt(r),m("change",[r,u]),m("set.tag",[r,u])}}function Q(t){if(!l()){var n=i.min;return P(),n>0&&p(a.tags)<n?(ft("",1),m("min.tags",[n]),void V(t)):1}}function nt(){Ft((function(){l()||d()||Y(C(E)),ft("")}),0)}function et(t){t&&w===t.target&&(E.focus(),J())}function rt(){E.focus()}function ut(){var t=this.title;N(w,["focus","focus.tag"]),m("blur.tag",[t,s(t,a.tags)])}function it(){var t=this.title;m("click.tag",[t,s(t,a.tags)])}function ot(){var n=this.title;!function(n,e){if(t(e))return e.forEach((function(t){return n.classList.add(t)})),n;if(u(e))for(var r in e)e[r]?n.classList.add(r):n.classList.remove(r);n.className=e}(w,["focus","focus.tag"]),m("focus.tag",[n,s(n,a.tags)])}function at(t){if(!l()&&!d()){var n=H(this).title,e=s(n,a.tags);ht(n),pt(n),ft("",1),m("change",[n,e]),m("click.tag",[n,e]),m("let.tag",[n,e])}V(t)}function st(t){var n=t.key,e=t.keyCode,r=t.ctrlKey,u=t.shiftKey,i=this,o=O(i),c=A(i);if(!r&&!u)if(d()||"ArrowLeft"!==n&&37!==e)if(d()||"ArrowRight"!==n&&39!==e){if("Backspace"===n||8===e||"Delete"===n||46===e){if(!d()){var f=i.title,l=s(f,a.tags);D(w,"focus.tag"),ht(f),pt(f),"Backspace"===n||8===e?c?c.focus():ft("",1):o&&o!==k?o.focus():ft("",1),m("change",[f,l]),m("let.tag",[f,l])}V(t)}}else o&&o!==k?o.focus():ft("",1),V(t);else c&&(c.focus(),V(t))}function ft(t,n){_(E,t),_(L,t?"":h),n&&E.focus()}function lt(t,n){var e=s(t,a.tags);return n&&m("get.tag",[t,e]),r(e)?t:null}function pt(t){var e=s(t,a.tags);return!!(r(e)&&e>=0)&&(a.tags.splice(e,1),n.value=a.tags.join(i.join),!0)}function vt(t,e){r(e)?(e=e<0?0:e,a.tags.splice(e,0,t)):a.tags.push(t),n.value=a.tags.join(i.join)}function dt(t,n){var e=I("span",{class:"tag",tabindex:!l()&&"0",title:t});if(i.x){var u=I("a",{href:"",tabindex:"-1",target:"_top"});Z("click",u,at),M(e,u)}Z("blur",e,ut),Z("click",e,it),Z("focus",e,ot),Z("keydown",e,st),R(j)&&(r(n)&&a.tags[n]?X($(j,n),e):X(k,e))}function ht(t){var n,e=s(t,a.tags);if(r(e)&&e>=0&&(n=$(j,e))){if(W("blur",n,ut),W("click",n,it),W("focus",n,ot),W("keydown",n,st),i.x){var u=n.firstElementChild||null;u&&(W("click",u,at),q(u))}q(n)}}function gt(){Q()&&T&&T.submit()}}Rt.instances={},Rt.state={class:"tag-picker",escape:[",",188],join:", ",max:9999,min:0,x:!1},Rt.version="3.1.10",Object.assign(m,{F3H:Ot,TE:At,TP:Rt})}();